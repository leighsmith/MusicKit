{\rtf0\ansi{\fonttbl\f2\fnil Times-Roman;\f1\fmodern Courier;}
\paperw11400
\paperh10400
\margl120
\margr120
{\colortbl;\red0\green0\blue0;}
{\pard\tx720\tx1440\tx2160\tx2880\tx3780\tx4320\tx6480\f2\b\i\ulnone\fs28\fc0\cf0{\NeXTHelpMarker0 \markername Instruments;}
}\pard\tx720\tx1440\tx2160\tx2880\tx3780\tx4320\tx6480\f2\b\i0\ulnone\fs28\fc0\cf0 Instruments
\b0 \
\

\i Instrument
\i0 s are instances of a subclass of the Music Kit Instrument or SynthInstrument class, and are the controlling objects for a Music Kit synthpatch, a MIDI output channel, or sound file playback.   The main interface for an instrument is displayed in the lower portion of the document window. This usually includes sliders for panning, level adjustment, and two other parameters.  Additional parameters, if any, are acccesed via inspector sub-panels.  The parameters of the instruments of the active document are included when a score is saved to a file, so that voicings of DSP instruments created in 
\i Ensemble
\i0  may be readily incorporated into other Music Kit applications.  
\fc1\cf1 The total number of DSP voices possible varies with the algorithms selected and the choice of sampling rate.\
\
Current instrument types include:\
\
	 Wavetable\
	 Frequency Modulation\
	 Plucked String physical model\
	 MIDI output\
	 Sampler (sound files mapped to note numbers)\
	 Resonator (filter sounds through the DSP, using an external A/D converter)\
	 Waveshaping synthesis\
\
Each instrument's interface includes a button for sending the instrument a test note, and a button for muting the instrument.  DSP instruments have a field for specifying how many voices of the instrument will reside on the DSP at any one time.  The DSP can hold only a finite number of instruments, so selecting fewer voices of one instrument may allow the use of more of another.  Each instrument also includes a slider which sends the instrument bearing or pan parameter values.\
\
Most instruments allow three common parameters to be adjusted from their interface area on the document window.  Other parameters are located on a separate panel, which can be brought up by the instrument's Additional Parameters button.\
\

{\b{\NeXTHelpMarker1797 \markername EnvelopeEditor;}
}\pard\tx720\tx1440\tx2160\tx2880\tx3780\tx4320\tx6480\f2\b\i0\ulnone\fs28\fc1\cf1 Envelope Editor\

\b0 \
For many instruments, a graphic envelope editor is provided for arbitrary control over amplitude and modulation envelopes.   To adjust a point, click and drag the small box at the point.  To add a new point, click at the desired location.  To delete a point, select it by clicking on it, then hit the Delete key.   The envelope's "stick point" (see Music Kit documentation) is represented by a vertical dashed line.  It may be added, moved, or deleted by using the mouse as above but while holding down the Alternate key. \

\b \

{{\NeXTHelpMarker2339 \markername Wavetable;}
}\pard\tx720\tx1440\tx2160\tx2880\tx3780\tx4320\tx6480\f2\b\i0\ulnone\fs28\fc1\cf1 Wavetable
\b0 \
\
The Wavetable instrument generates sound using one or two of a preloaded set of waveforms.  Most of the waveforms are derived from the analysis of real instruments.   A controller may be assigned to control the interpolation between the two selected waveforms.  The first slider in its interface area adjusts the overall level of the sound.  The second slider adjusts the interpolation between the two waveforms, which are selected in the Additional Parameters panel.  A third slider adjusts the amount of vibrato.\

\b \

{{\NeXTHelpMarker2867 \markername FM;}
}\pard\tx720\tx1440\tx2160\tx2880\tx3780\tx4320\tx6480\f2\b\i0\ulnone\fs28\fc1\cf1 Frequency Modulation (FM)
\b0 \
\
The FM instrument implements simple frequency modulation.  Even though it is only two operators, substantial control is provided over the carrier and modulator waveforms, allowing for a fair variety of timbres.  The first and third slider adjust amplitude and vibrato as above, but the center slider here adjusts the amount of modulation, which corresponds to the "brightness" of the sound.
\b \
\

{{\NeXTHelpMarker3287 \markername Pluck;}
}\pard\tx720\tx1440\tx2160\tx2880\tx3780\tx4320\tx6480\f2\b\i0\ulnone\fs28\fc1\cf1 Pluck
\b0 \
\
The Pluck instrument is based on the Karplus-Strong plucked string physical model.  It's amplitude envelope is determined by the response of the model , so there is no envelope editor.
\b \

\b0 Sliders adjust the brightness and decay characteristics of the sound.\

\b \

{{\NeXTHelpMarker3551 \markername MIDIOutput;}
}\pard\tx720\tx1440\tx2160\tx2880\tx3780\tx4320\tx6480\f2\b\i0\ulnone\fs28\fc1\cf1 MIDI Output
\b0 \
\
The MIDI Output instrument sends all notes it receives to the MIDI channel indicated at the top of its interface panel.  The first slider provides a constant adjustment to velocity values.  The second slider adjusts a velocity threshold - notes with velocities less than the value are not transmitted.  The third slider sends an arbitrary MIDI controller value.  The controller sent is selected in the Additional Parameters panel.\
\

{\b\i\fc0\cf0{\NeXTHelpMarker3997 \markername Sampler;}
}\pard\tx720\tx1440\tx2160\tx2880\tx3780\tx4320\tx6480\f2\b\i0\ulnone\fs28\fc0\cf0 Sampler
\b0 \
\
The Sampler instrument maps sound files to key numbers.  Any time a note is played on that instrument from a MIDI keyboard or a score or MIDI file, the sound file associated with that key is played.   Several files may be played simultaneously.  The limit on the number of soundfiles playable simultaneously depends on their sampling rate, the number of channels in the file, and whether or not they are being pitch-shifted.    Sequencing may be performed simply by creating a Score File which has noteOns on the proper notes at the times you want the files to start.  MIDI volume may be used to dynamically adjust the levels of the files.  If the same file is mapped to a range of keys, and "diatonic" is selected in the PlaySound parameter window, the lowest note in the range will play the file at the original pitch, and higher notes in the range will transpose appropriately.   If a Pitch Bend range is selected, MIDI pitchbend will also affect the pitch of the file.   Transposing or pitch bend is expensive computationally and reduces the number of files playable simultaneously.\
\
A file may be recorded from the built-in microphone under MIDI control.  The Sampler has an Additional Parameter called "Record Mode Indicator".  When a non-zero value is received for this controller, noteOns cause temporary recordings to be made and assigned to the key number of the note.  A corresponding noteOff terminates the recording.  Setting the "Record Mode Indicator" controller back to 0 then resumes normal playback mode.\
\

{\b\i{\NeXTHelpMarker5531 \markername Resonator;}
}\pard\tx720\tx1440\tx2160\tx2880\tx3780\tx4320\tx6480\f2\b\i0\ulnone\fs28\fc0\cf0 Resonator
\b0 \
\
This instrument does not make any sound on its own, but processes sounds input through the DSP serial port, using a comb filter resonator.  For this instrument to work, you must connect some kind of external analog to digital converter to the DSP port, and specify which brand you are using via the Preferences panel.  The fundamental frequency of the comb resonance is controlled by the key number.  MIDI aftertouch and modwheel may be used to control the low-pass filtering and amount of resonance.\

\b\i\fc1\cf1 \

\i0 Waveshaping
\b0 \
\
The Waveshaper instrument implements non-linear distortion synthesis.  In this type of synthesis, an oscillator is mapped via a lookup table.  The oscillator has an amplitude envelope (the "index envelope"), which controls the timbre.   Furthermore, the output of the table is multiplied by another envelope, which controls the amplitude.    Note, however, that the index envelope also has some effect on amplitude.  \
\
You can specify the harmonic content of the instrument.  This is called the "Waveshaping Spectrum" in the waveshaping parameters window.   It is resulting spectrum when the oscillator is producing a sine wave and the index is 1.  Smaller indecies produce spectra that are less bright.   Using a more complex wave for the oscillator produces extremely complicated spectra.\

\b \

}
